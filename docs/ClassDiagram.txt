@startuml Bakery
skinparam classAttributeIconSize 0

class Customer <<Agent>>
class Order  <<Agent>>
class Truck  <<Agent>>
class StreetNetwork  <<Agent>>
class OrderProcessor  <<Agent>>
class ProductionManager  <<Agent>>
class KneadingAgent  <<Agent>>
class PreparationAgent  <<Agent>>
class BakingAgent  <<Agent>>
class OrderTracker  <<Agent>>
class PackingAgent  <<Agent>>
class TransportAgent  <<Agent>>

class ProductInfo <<Object>>
class Box <<Object>>

Customer -right-> OrderProcessor :OrderMessage
OrderProcessor --> Customer :Status
OrderProcessor -down-> Order :creates
OrderProcessor -right-> ProductionManager :todaysOrders

ProductionManager --> OrderProcessor :requestFor\nPendingOrders
ProductionManager --> KneadingAgent :assign\nKneadingTask
ProductionManager --> Order :request\nProductInfo
ProductionManager--> PreparationAgent :assign\nPrepTask
ProductionManager --> BakingAgent :assign\nBakingTask
ProductionManager --> OrderTracker :handover\nOrder
ProductionManager --> TransportAgent :getTime\nToDelivery
Order --> ProductionManager :orderInfo
KneadingAgent --> ProductionManager :kneadingComplete/\nrestingComplete
PreparationAgent --> ProductionManager :preparation\nComplete
BakingAgent --> ProductionManager :Baking\nComplete
BakingAgent --> PackingAgent :itemsReady\nToPack
PackingAgent --> OrderTracker :itemsPacked
OrderTracker --> TransportAgent :RequestOrder\nTransport
OrderTracker --> Order :updateCompleted\nProducts/\nGetDelivery\nAddress
Order --> OrderTracker :DeliveryAddress
Order --> OrderTracker :OrderFulfilled
TransportAgent --> Truck :deliverOrders
Truck --> Order :DeliveryStatus
TransportAgent --> StreetNetwork :queryTime\nToDelivery

PackingAgent --> Box :creates
Truck --> Box :move
ProductionManager --> ProductInfo :creates\nand uses


@enduml
